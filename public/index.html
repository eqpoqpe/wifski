<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Wifski-Container</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
		<style>
			body {
				font-family: 'Inter', sans-serif;
				background-color: #f3f4f6; /* gray-100 */
			}

			.dark body {
				background-color: #111827; /* gray-900 */
			}

			/* Custom styles for the dual-thumb slider */
			.slider-container {
				position: relative;
				height: 2rem;
			}

			.slider-track {
				position: absolute;
				height: 6px;
				background-color: #e5e7eb; /* gray-200 */
				width: 100%;
				top: 50%;
				transform: translateY(-50%);
				border-radius: 9999px;
				z-index: 1;
			}

			.dark .slider-track {
				background-color: #374151; /* gray-700 */
			}

			.slider-track-highlight {
				position: absolute;
				height: 6px;
				background-color: #3b82f6; /* blue-500 */
				top: 50%;
				transform: translateY(-50%);
				border-radius: 9999px;
				z-index: 2;
			}

			input[type='range'].slider {
				-webkit-appearance: none;
				appearance: none;
				position: absolute;
				width: 100%;
				height: 6px;
				top: 50%;
				transform: translateY(-50%);
				background: transparent;
				pointer-events: none;
				z-index: 3;
				margin: 0;
			}

			input[type='range'].slider::-webkit-slider-thumb {
				-webkit-appearance: none;
				appearance: none;
				width: 20px;
				height: 20px;
				background-color: white;
				border: 1px solid #d1d5db; /* gray-300 */
				border-radius: 50%;
				cursor: pointer;
				pointer-events: auto;
				box-shadow:
					0 1px 3px 0 rgb(0 0 0 / 0.1),
					0 1px 2px -1px rgb(0 0 0 / 0.1);
			}

			.dark input[type='range'].slider::-webkit-slider-thumb {
				background-color: #d1d5db; /* gray-300 */
				border-color: #4b5563; /* gray-600 */
			}

			input[type='range'].slider::-moz-range-thumb {
				width: 20px;
				height: 20px;
				background-color: white;
				border: 1px solid #d1d5db;
				border-radius: 50%;
				cursor: pointer;
				pointer-events: auto;
				box-shadow:
					0 1px 3px 0 rgb(0 0 0 / 0.1),
					0 1px 2px -1px rgb(0 0 0 / 0.1);
			}

			.dark input[type='range'].slider::-moz-range-thumb {
				background-color: #d1d5db;
				border-color: #4b5563;
			}

			.loader {
				border: 4px solid #e5e7eb; /* gray-200 */
				border-top: 4px solid #3b82f6; /* blue-500 */
				border-radius: 50%;
				width: 48px;
				height: 48px;
				animation: spin 1s linear infinite;
			}

			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
				100% {
					transform: rotate(360deg);
				}
			}
		</style>
	</head>
	<body class="text-gray-900 dark:text-gray-100">
		<div class="container mx-auto max-w-3xl p-4 sm:p-6 lg:p-8">
			<header class="text-center mb-10">
				<h1 class="text-4xl sm:text-5xl font-bold tracking-tight">Wifski-Container</h1>
				<p class="text-lg text-gray-600 dark:text-gray-400 mt-2">Create high-quality GIFs from your videos.</p>
			</header>

			<main class="space-y-8">
				<!-- Step 1: File Upload -->
				<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
					<h2 class="text-2xl font-semibold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">1. Select Video</h2>
					<label
						for="video-input"
						class="relative flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-gray-300 dark:border-gray-600 transition-colors"
					>
						<div class="text-center">
							<svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
								<path
									d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8"
									stroke-width="2"
									stroke-linecap="round"
									stroke-linejoin="round"
								/>
							</svg>
							<p class="mt-1 text-sm text-gray-600 dark:text-gray-300">
								<span class="font-semibold text-blue-600">Click to upload</span>
								or drag and drop
							</p>
							<p id="file-name" class="mt-1 text-xs text-gray-500 dark:text-gray-400"></p>
						</div>
						<input id="video-input" type="file" class="sr-only" accept="video/*" />
					</label>
				</div>

				<form id="conversion-form" class="hidden space-y-8">
					<!-- Step 2: Trim Video -->
					<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
						<h2 class="text-2xl font-semibold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">2. Trim Video</h2>
						<video id="video-preview" class="w-full rounded-lg bg-black mb-4" controls></video>

						<div class="slider-container my-4">
							<div class="slider-track"></div>
							<div id="slider-highlight" class="slider-track-highlight"></div>
							<input type="range" class="slider" id="start-slider" value="0" min="0" step="0.1" />
							<input type="range" class="slider" id="end-slider" value="100" min="0" step="0.1" />
						</div>

						<div class="flex justify-between items-center text-sm">
							<div>
								<label for="start_time" class="font-medium">Start (s)</label>
								<input
									type="text"
									id="start_time"
									name="start_time"
									class="mt-1 block w-24 p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
									value="0.0"
								/>
							</div>
							<div class="text-right">
								<label for="end_time" class="font-medium">End (s)</label>
								<input
									type="text"
									id="end_time"
									name="end_time"
									class="mt-1 block w-24 p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
									value="0.0"
								/>
							</div>
						</div>
					</div>

					<!-- Step 3: Conversion Options -->
					<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
						<h2 class="text-2xl font-semibold mb-4 border-b border-gray-200 dark:border-gray-700 pb-3">3. Options</h2>
						<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
							<div>
								<label for="resize" class="block text-sm font-medium">Resize</label>
								<select
									id="resize"
									name="resize"
									class="mt-1 block w-full p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
								>
									<option value="75" selected>75%</option>
									<option value="100">100% (Original)</option>
									<option value="50">50%</option>
									<option value="25">25%</option>
								</select>
							</div>
							<div>
								<label for="speed" class="block text-sm font-medium">Speed</label>
								<select
									id="speed"
									name="speed"
									class="mt-1 block w-full p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
								>
									<option value="1.0" selected>1x</option>
									<option value="0.5">0.5x</option>
									<option value="1.5">1.5x</option>
									<option value="2.0">2.0x</option>
									<option value="3.0">3.0x</option>
									<option value="4.0">4.0x</option>
									<option value="5.0">5.0x</option>
								</select>
							</div>
							<div>
								<label for="fps" class="block text-sm font-medium">FPS (3-10)</label>
								<input
									type="number"
									id="fps"
									name="fps"
									value="8"
									min="3"
									max="10"
									class="mt-1 block w-full p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
								/>
							</div>
							<div>
								<label for="quality" class="block text-sm font-medium">Quality (0-100)</label>
								<input
									type="number"
									id="quality"
									name="quality"
									value="75"
									min="0"
									max="100"
									class="mt-1 block w-full p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
								/>
							</div>
							<div class="md:col-span-2">
								<label for="loop" class="block text-sm font-medium">Loop</label>
								<select
									id="loop"
									name="loop"
									class="mt-1 block w-full p-2 border rounded-md bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"
								>
									<option value="forever" selected>Loop Forever</option>
									<option value="bounce">Bounce</option>
									<option value="0">Don't Loop</option>
									<option value="1">Loop 1 Time</option>
									<option value="3">Loop 3 Times</option>
									<option value="5">Loop 5 Times</option>
								</select>
							</div>
						</div>
					</div>

					<!-- Submit Button -->
					<div class="text-center">
						<button
							type="submit"
							class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105"
						>
							Create GIF
						</button>
					</div>
				</form>

				<!-- Step 4: Result -->
				<div id="result-section" class="hidden text-center bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
					<div id="loader" class="hidden mx-auto">
						<div class="loader"></div>
						<p class="mt-4 text-gray-600 dark:text-gray-400">Converting your video...</p>
					</div>
					<div id="gif-container" class="hidden">
						<h2 class="text-2xl font-semibold mb-4">Your GIF is Ready!</h2>
						<img id="gif-preview" class="w-full max-w-md mx-auto rounded-lg shadow-lg mb-6" alt="Converted GIF" />
						<a
							id="download-button"
							href="#"
							download="converted.gif"
							class="inline-block bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105"
						>
							Download GIF
						</a>
					</div>
					<div
						id="error-container"
						class="hidden bg-red-100 dark:bg-red-900/20 border border-red-400 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative"
					>
						<strong class="font-bold">Conversion Failed!</strong>
						<span class="block sm:inline">Something went wrong. Please check your settings and try again.</span>
					</div>
				</div>
			</main>
		</div>

		<script src="index.js"></script>
	</body>
</html>
